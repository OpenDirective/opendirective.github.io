<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<title>Flashing Mozilla Firefox OS Flame Phone on Windows | Opening Accessibility</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="/wp-content/themes/accessible/style.css" />
<link rel="pingback" href="/xmlrpc.php" />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Opening Accessibility &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Opening Accessibility &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Opening Accessibility &raquo; Flashing Mozilla Firefox OS Flame Phone on Windows Comments Feed" href="/2014/09/flashing-firefox-os-on-windows/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/opendirective.net\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/opendirective.net\/blog\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Setting up home and office networks with a single line and with wifi extension' href='/2014/09/setting-up-two-home-lans-with-a-single-line-and-with-wifi-extension/' />
<link rel='next' title='Flashing Firefox OS onto a Flame with Windows' href='/2014/10/flashing-firefox-os-on-windows-2/' />
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="/2014/09/flashing-firefox-os-on-windows/" />
<link rel='shortlink' href='/?p=443' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fopendirective.net%2Fblog%2F2014%2F09%2Fflashing-firefox-os-on-windows%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fopendirective.net%2Fblog%2F2014%2F09%2Fflashing-firefox-os-on-windows%2F&#038;format=xml" />

<!-- Bad Behavior 2.2.22 run time: 3.463 ms -->
</head>

<body class="post-template-default single single-post postid-443 single-format-standard">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<div id="site-title">
					<span>
						<a href="/" title="Opening Accessibility" rel="home">Opening Accessibility</a>
					</span>
				</div>
				<div id="site-description">Where open source joins accessibility</div>

										<img src="/wp-content/uploads/2013/02/copy-cropped-Lapland-gateway.jpg" width="940" height="198" alt="" />
								</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
								<div class="menu"><ul>
<li ><a href="/">Home</a></li><li class="page_item page-item-8"><a href="/about/">About</a></li>
</ul></div>
			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			

				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="/2014/09/setting-up-two-home-lans-with-a-single-line-and-with-wifi-extension/" rel="prev"><span class="meta-nav">&larr;</span> Setting up home and office networks with a single line and with wifi extension</a></div>
					<div class="nav-next"><a href="/2014/10/flashing-firefox-os-on-windows-2/" rel="next">Flashing Firefox OS onto a Flame with Windows <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-above -->

				<div id="post-443" class="post-443 post type-post status-publish format-standard hentry category-development category-uncategorized tag-firefoxos">
					<h1 class="entry-title">Flashing Mozilla Firefox OS Flame Phone on Windows</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2014/09/flashing-firefox-os-on-windows/" title="6:59 pm" rel="bookmark"><span class="entry-date">September 26, 2014</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/steveopendirective-com/" title="View all posts by Steve">Steve</a></span>					</div><!-- .entry-meta -->

					<div class="entry-content">
						<p><strong>tl;dr the shallow_flash.sh file used to flash Firefox OS nightly builds t to phones such as the Flame now works on Cygwin on Windows. The reason for previous failure and the solution highlight a difference between Linux and Windows.<br />
</strong></p>
<p>Mozilla&#8217;s <a href="https://developer.mozilla.org/en-US/Firefox_OS">Firefox OS</a> is undergoing rapid development, with the cutting edge nightly builds <a href="/wp-content/uploads/2014/09/Firefox-OS-Flame-Reference-Device-small.png"><img class="alignright size-full wp-image-444" src="/wp-content/uploads/2014/09/Firefox-OS-Flame-Reference-Device-small.png" alt="Firefox-OS-Flame-Reference-Device-small" width="150" height="305" srcset="/wp-content/uploads/2014/09/Firefox-OS-Flame-Reference-Device-small.png 150w, /wp-content/uploads/2014/09/Firefox-OS-Flame-Reference-Device-small-147x300.png 147w" sizes="(max-width: 150px) 100vw, 150px" /></a>now at version 2.2 (as compared to the less frequent Vendor supplied builds). Each Firefox OS phone has slightly different mechanism for flashing using these Mozilla builds but the general approach is similar. Basically a base version of all the full software stack (Gonk, Gecko and Gaia) is available for flashing and then partial builds update just Gecko and Gaia). There are also OTA updates that can be just Gecko &amp; Gaia not requiring a reboot, or a full update (FOTA) requiring a reboot.</p>
<p>Firefox OS developers almost exclusively use Linux, or OS X. This is for good reasons,. In particular building on Windows can be slow as it is not so hot at processing lots of small files as required for a build. Something I soon found when building Desktop Firefox on my Windows laptop.</p>
<p>However, when it comes to flashing, we find that people who are not building the software also want to use the pre-built images on their phones and these community members are often using Windows. They often do not wish to build and may not be particularly technical. Also the Mozilla builds have been created with a full set of features that can be lacking from personal builds (at least they are from mine).</p>
<p>Unfortunately the official &#8216;shallow_flash.sh&#8217; script used for the partial flashes has been developed for linux. Although it should work on the <a href="https://cygwin.com/">Cygwin</a> linux &#8217;emulator&#8217; for Windows, flashed phones would never reboot. This has now been fixed.</p>
<p>The core problem with the script highlights another reason Linux is better than Windows for Firefox OS development. In short, Firefox OS uses the Linux kernel and HAL layer from Android. Thus the close match between target and host operating systems when using Linux reduces many problems. In particular, some of the files contained in the Gecko updates require the X (executable) file attribute in order for Firefox OS to work at all. Windows doesn&#8217;t have this attribute and so when the files are unarchived and pushed to the phone the x attribute is lost resulting in a dead phone. In fact Cygwin tries to emulate the x attribute, but it really only pretends it is on for files it thinks are executable, something completely useless for the Firefox OS files in question.</p>
<p>The good news is Cygwin provides all the wonderful *nix commands which have been used for years to perform administrative magic with seemingly little effort. The philosophy of using small focussed tools in combinations in order to get the job done comes to the rescue here. A single line can be added to the script to reset all those x attributes that got lost, Here it is</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5b9f88bb8d638813969997" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
run_adb shell chmod 777 $(tar -tvf $GECKO_TAR_FILE | awk '$1 ~ /^[^d].*x$/ {print "/system/" $NF}')</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5b9f88bb8d638813969997-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5b9f88bb8d638813969997-1"><span class="crayon-e">run_adb </span><span class="crayon-e">shell </span><span class="crayon-i">chmod</span><span class="crayon-h"> </span><span class="crayon-cn">777</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">tar</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">tvf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">GECKO_TAR_FILE</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'$1 ~ /^[^d].*x$/ {print "/system/" $NF}'</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>Without going into details this extracts from the .tar.gz archive the list of files with x set (and that are not also directories) and passes it to chmod to set the x attribute on the files on the phone. Simples.</p>
<p>While I was at it I also fixed a bug with the way local files were handled. A hack copying files to a temporary folder worked around the problem and could be removed with a simple fix. Also, when testing we found problems if the files were place in a folder with spaces in the name so that was fixed too.</p>
<p>Until the patch is merged in you can find the fixed version of shallow_flash.sh in <a href="https://github.com/Mozilla-TWQA/B2G-flash-tool/pull/276">this pull request </a>.</p>
<p>In addition as the person this workÂ  was for is not especially technical, I created <a href="http://opendirective.net/b2g/flame/B2GShallowFlash.zip">a single zip file</a> containing the script, the Firefox OS update files and a minimal version of Cygwin. This gives an easy download, unzip and run flash.bat UX. Since the Cygwin installer is complex and hardly accessible this might be useful to other folks too.</p>
<p>As a foot note having submitted this pull request I found someone else had recently submitted a similar pull request (though only setting the x attribute on a few predefined files).Â  I do wish I had seen this one earlier as it took some time to figure it was the x attribute causing the problem. Heh. Such is open source ðŸ™‚</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
						This entry was posted in <a href="/category/development/" rel="category tag">development</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a> and tagged <a href="/tag/firefoxos/" rel="tag">FirefoxOS</a>. Bookmark the <a href="/2014/09/flashing-firefox-os-on-windows/" title="Permalink to Flashing Mozilla Firefox OS Flame Phone on Windows" rel="bookmark">permalink</a>.											</div><!-- .entry-utility -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="/2014/09/setting-up-two-home-lans-with-a-single-line-and-with-wifi-extension/" rel="prev"><span class="meta-nav">&larr;</span> Setting up home and office networks with a single line and with wifi extension</a></div>
					<div class="nav-next"><a href="/2014/10/flashing-firefox-os-on-windows-2/" rel="next">Flashing Firefox OS onto a Flame with Windows <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				<a href="#wrapper" class="skip-content screen-reader-text">Skip to top</a><h2 class="screen-reader-text">Comments</h2>
			<div id="comments">


			<h3 id="comments-title">10 Responses to <em>Flashing Mozilla Firefox OS Flame Phone on Windows</em></h3>


			<ol class="commentlist">
					<li class="comment even thread-even depth-1" id="li-comment-20361">
		<div id="comment-20361">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/08890a6a62e6379436e010f7da3121e6?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/08890a6a62e6379436e010f7da3121e6?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='https://firefoxosundich.wordpress.com/' rel='external nofollow' class='url'>AndrÃ© Jaenisch</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20361">
				September 29, 2014 at 5:28 pm</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Hello,</p>
<p>just a N.B. from just another GNU/Linux user: Are you sure you want to set the rwx-Flag (read, write, execute) for all files for everyone?</p>
<p>It may be considered a security risk.</p>
<p>Regards,</p>
<p>AndrÃ©</p>
</div>

			<div class="reply">
				<a rel='nofollow' class='comment-reply-link' href='/2014/09/flashing-firefox-os-on-windows/?replytocom=20361#respond' onclick='return addComment.moveForm( "comment-20361", "20361", "respond", "443" )' aria-label='Reply to AndrÃ© Jaenisch'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-steveopendirective-com bypostauthor odd alt depth-2" id="li-comment-20362">
		<div id="comment-20362">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">Steve</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20362">
				September 29, 2014 at 5:34 pm</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>AndrÃ© Thank you for taking the time to comment. 2 points here.<br />
1) It&#8217;s not all files &#8211; just those marked executable in the .tar.gz archive (that&#8217;s what awk is doing)<br />
2) I did adb shell ls -l to see what they were set to on the device when flashed from linux and I got 777<br />
I agree it seems a bit rash.</p>
</div>

			<div class="reply">
				<a rel='nofollow' class='comment-reply-link' href='/2014/09/flashing-firefox-os-on-windows/?replytocom=20362#respond' onclick='return addComment.moveForm( "comment-20362", "20362", "respond", "443" )' aria-label='Reply to Steve'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment even depth-3" id="li-comment-20364">
		<div id="comment-20364">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/08890a6a62e6379436e010f7da3121e6?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/08890a6a62e6379436e010f7da3121e6?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='https://firefoxosundich.wordpress.com/' rel='external nofollow' class='url'>AndrÃ© Jaenisch</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20364">
				September 29, 2014 at 6:14 pm</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Hello, Steve,</p>
<p>thanks for permitting my comment.</p>
<p>Could you break the awk command down? I&#8217;m familiar to RegEx, but awk is &#8230; well awkward to me.</p>
<p>From what I understand, <code>awk '$1 ~ /^[^d].*x$/ {print "/system/" $NF}'</code> splits the line at whitespace, fetches the first field (the line with e.g. <code>drwxrwxrwx</code> displaying the permission flags for user/group/others), looks for something beginning (^) with no digit ([^d]), followed by an arbitrary set (.*) of characters (why not restricting?) ending on x (x$) and then prints the match after a &#8220;/string/&#8221;.</p>
<p>Am I right?<br />
What does ~ do here?</p>
<p>Regards,</p>
<p>AndrÃ©</p>
</div>

			<div class="reply">
				<a rel='nofollow' class='comment-reply-link' href='/2014/09/flashing-firefox-os-on-windows/?replytocom=20364#respond' onclick='return addComment.moveForm( "comment-20364", "20364", "respond", "443" )' aria-label='Reply to AndrÃ© Jaenisch'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-steveopendirective-com bypostauthor odd alt depth-4" id="li-comment-20366">
		<div id="comment-20366">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">Steve</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20366">
				September 29, 2014 at 7:15 pm</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Yes you are right! Awk is brilliant if you need to work on columns and rows. It&#8217;s a little bit like SQL in that it&#8217;s not a procedural approach. That line is a complete awk program &#8211; many are that small. They are of the form of multiple</p>
<p>  Pattern { action }</p>
<p>which are applied to each line (row) so when pattern matches action is performed. $ is used to reference columns from $1 to $NF (last &#8211; I&#8217;ve no idea why NF). </p>
<p>~ means match regex. A = would be an exact match. !~ is doesn&#8217;t match.</p>
<p>Thus it boils  down to &#8211; when the the 1st column ($1) matches 1st char is not a &#8216;d&#8217; ([^d]) and last is a &#8216;x'(x$) then print &#8220;/system&#8221;/<filename in last column>.</p>
<p>See <a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow">https://www.gnu.org/software/gawk/manual/gawk.html</a></p>
<p>Note in regex [] set letters are literal so [^d] is &#8220;not d&#8221; and not &#8216;digit&#8217;.</p>
<p>You might be right &#8211; restricting .* could be better  but I think $ sorts it out as it as * is maximal match in awk (I hope) ðŸ˜‰</p>
<p>Hth.</filename></p>
</div>

			<div class="reply">
				<a rel='nofollow' class='comment-reply-link' href='/2014/09/flashing-firefox-os-on-windows/?replytocom=20366#respond' onclick='return addComment.moveForm( "comment-20366", "20366", "respond", "443" )' aria-label='Reply to Steve'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-steveopendirective-com bypostauthor even depth-5" id="li-comment-20367">
		<div id="comment-20367">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">Steve</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20367">
				September 29, 2014 at 7:21 pm</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>I read &#8220;The original version of awk was written in 1977&#8221;! So it&#8217;s a punk language ðŸ™‚</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
	<li class="comment odd alt depth-5" id="li-comment-20401">
		<div id="comment-20401">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/08890a6a62e6379436e010f7da3121e6?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/08890a6a62e6379436e010f7da3121e6?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='https://firefoxosundich.wordpress.com/' rel='external nofollow' class='url'>AndrÃ© Jaenisch</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20401">
				September 30, 2014 at 10:26 am</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>First chat is not a &#8216;d&#8217; (for directory) means it consumes other file encodings like symbolic links, block device etc. as well? (c.f. <a href="http://bashshell.net/file-permissions-and-attributes/understanding-linux-file-types/" rel="nofollow">http://bashshell.net/file-permissions-and-attributes/understanding-linux-file-types/</a>)</p>
<p>Hm, I wonder, what would happen, if there are strange characters in between â€¦ but that becomes academic ðŸ™‚</p>
<p>Asterisk is explained here: <a href="https://www.gnu.org/software/gawk/manual/html_node/Regexp-Operators.html#index-asterisk-_0028_002a_0029_002c-_002a-operator_002c-as-regexp-operator" rel="nofollow">https://www.gnu.org/software/gawk/manual/html_node/Regexp-Operators.html#index-asterisk-_0028_002a_0029_002c-_002a-operator_002c-as-regexp-operator</a></p>
<p><q>NF is a built-in variable whose value is the number of fields in the current record.</q><br />
Source: <a href="https://www.gnu.org/software/gawk/manual/html_node/Fields.html" rel="nofollow">https://www.gnu.org/software/gawk/manual/html_node/Fields.html</a></p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
	<li class="comment byuser comment-author-steveopendirective-com bypostauthor even depth-5" id="li-comment-20405">
		<div id="comment-20405">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">Steve</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-20405">
				September 30, 2014 at 11:16 am</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>> First chat is not a â€˜dâ€™ (for directory) means it consumes other file encodings like symbolic links, block device etc. as well? (c.f. <a href="http://bashshell.net/file-permissions-and-attributes/understanding-linux-file-types/" rel="nofollow">http://bashshell.net/file-permissions-and-attributes/understanding-linux-file-types/</a>)</p>
<p>Oops a bug. However I doubt the others crop up often in Tar archives ðŸ™‚</p>
<p>> Hm, I wonder, what would happen, if there are strange characters in between</p>
<p>Well . matches just about everything.</p>
<p>> NF is a built-in variable whose value is the number of fields</p>
<p>Aha &#8211; thanks.</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href='http://firefoxosundich.wordpress.com/2014/09/29/monday-sparks-sony-xperia-sp-ubersetzung-flashen/' rel='external nofollow' class='url'>Monday Sparks: Sony Xperia SP, Ãœbersetzung, Flashen | Firefox OS und Ich</a></p>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32064">
		<div id="comment-32064">
			<div class="comment-author vcard">
				<img alt='' src='http://2.gravatar.com/avatar/89322490eb1659f4b6ed4efcf8e90d2a?s=40&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/89322490eb1659f4b6ed4efcf8e90d2a?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">ziad</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-32064">
				August 21, 2015 at 11:01 am</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Hello,<br />
I found your zip file worked on windows  couple of month ago, but now it when I clicked flash.bat  , it gets open &amp; then get closed itself within seconds. I have also tired updating the latest b2g-XX.XX.en-US.android-arm.tar.gz and gaia.zip. Now, it&#8217;s not working for me, please help</p>
</div>

			<div class="reply">
				<a rel='nofollow' class='comment-reply-link' href='/2014/09/flashing-firefox-os-on-windows/?replytocom=32064#respond' onclick='return addComment.moveForm( "comment-32064", "32064", "respond", "443" )' aria-label='Reply to ziad'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-steveopendirective-com bypostauthor even depth-2" id="li-comment-32068">
		<div id="comment-32068">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=40&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9cf3b2625e7daf7aa5d01542fbedb2c5?s=80&#038;d=mm&#038;r=g 2x' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">Steve</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="/2014/09/flashing-firefox-os-on-windows/#comment-32068">
				August 21, 2015 at 1:58 pm</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Sorry to hear that. Did you try running the bat from a commandline prompt? That way you&#8217;ll see any errors.</p>
<p>I&#8217;m no longer working on this so can only suggest you contact the Firefox OS community for advise.</p>
<p>Good luck</p>
</div>

			<div class="reply">
				<a rel='nofollow' class='comment-reply-link' href='/2014/09/flashing-firefox-os-on-windows/?replytocom=32068#respond' onclick='return addComment.moveForm( "comment-32068", "32068", "respond", "443" )' aria-label='Reply to Steve'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
			</ol>


	

	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2014/09/flashing-firefox-os-on-windows/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='443' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="535535cadd" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="232"/></p>			</form>
			</div><!-- #respond -->
	
</div><!-- #comments -->


			</div><!-- #content -->
		</div><!-- #container -->

<h2 class="screen-reader-text">More informations</h2>
		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="search-2" class="widget-container widget_search"><form role="search" method="get" id="searchform" class="searchform" action="/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></li>		<li id="recent-posts-2" class="widget-container widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
											<li>
					<a href="/2017/03/at-last-true-grids-in-web-browsers/">At last â€” true grids in web browsers</a>
									</li>
											<li>
					<a href="/2016/10/exploring-reactive-streams-with-serverless-xstream-cyclejs-and-azure-functions/">Using reactive streams on serverless with cyclejs, xstream and Azure Functions</a>
									</li>
											<li>
					<a href="/2016/09/is-the-web-getting-less-webby/">Is the web getting less webby and will serverless make it worse?</a>
									</li>
											<li>
					<a href="/2016/05/aws-azure-or-firebase-for-a-spa-browser-app/">AWS, Azure or Firebase for a SPA browser app? Nope, it&#8217;s Kinvey</a>
									</li>
											<li>
					<a href="/2016/05/i-dont-care-about-the-os-just-give-me-my-web-apps/">&#8220;I don&#8217;t care about the OS, just give me my web Apps&#8221;</a>
									</li>
					</ul>
		</li><li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3><form action="" method="get"><label class="screen-reader-text" for="cat">Categories</label><select  name='cat' id='cat' class='postform' >
	<option value='-1'>Select Category</option>
	<option class="level-0" value="5">a11y&nbsp;&nbsp;(12)</option>
	<option class="level-0" value="32">age&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="16">Android&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="23">Apps&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="27">Assistve Technology&nbsp;&nbsp;(5)</option>
	<option class="level-0" value="31">Audio&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="19">bass&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="20">dementia&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="28">development&nbsp;&nbsp;(12)</option>
	<option class="level-0" value="53">devops&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="21">HTML&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="38">mobile&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="25">mobile a11y&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="18">music&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="3">opena11y&nbsp;&nbsp;(5)</option>
	<option class="level-0" value="4">opensource&nbsp;&nbsp;(11)</option>
	<option class="level-0" value="30">OS X&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="6">personal&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="34">PHP&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="55">serverless&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="29">ss12eu&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="1">Uncategorized&nbsp;&nbsp;(15)</option>
	<option class="level-0" value="17">Video&nbsp;&nbsp;(1)</option>
	<option class="level-0" value="9">web&nbsp;&nbsp;(10)</option>
	<option class="level-0" value="26">web a11y&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="54">web apps&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="22">Win8&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="35">Windows&nbsp;&nbsp;(8)</option>
	<option class="level-0" value="33">WordPress&nbsp;&nbsp;(1)</option>
</select>
</form>
<script type='text/javascript'>
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			dropdown.parentNode.submit();
		}
	}
	dropdown.onchange = onCatChange;
})();
/* ]]> */
</script>

</li><li id="linkcat-2" class="widget-container widget_links"><h3 class="widget-title">CMS Accessibility Blogs</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://accessible.sprungmarker.de/" title="Home for Sylvia Egger&#8217;s Twenty Ten child theme and other musings">Accessibile Twitter</a></li>
<li><a href="http://groups.drupal.org/accessibility">Drupal Accessibility group</a></li>
<li><a href="http://make.wordpress.org/accessibility/" title="What it says on the tin &#8211; improving WP a11y">WordPress accessibility</a></li>

	</ul>
</li>
<li id="linkcat-24" class="widget-container widget_links"><h3 class="widget-title">Web Accessibility Blogs</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://www.456bereastreet.com/" title="Roger Johansson is one of the most active and knowledgeable accessibility bloggers.">456 Berea Street</a></li>
<li><a href="https://medium.com/@dennisl/" title="Dennis E. Lembree&#8217;s blog (the man behind EasyChirp and @webaxe)">Dennis LembrÃ©e</a></li>
<li><a href="http://www.iheni.com/" title="Mobile and web accessibility goodness">Henny Swan</a></li>
<li><a href="http://juicystudio.com/" title="Gez Lemon provides some of the most influential research and writing in the accessibility field, particularly on the technical aspects of accessibility and assistive technologies">Juicy Studio</a></li>
<li><a href="http://blog.paciellogroup.com/" title="Blog from the leading supplier of commercial accessibility services and posts by the mighty Steve Faulkner">The Paciello Group</a></li>
<li><a href="http://webaim.org/blog/" title="Jarrad and the crew at webAIM produce some of the best introductory and advanced articles on web accessibility">WebAIM</a></li>
<li><a href="http://www.webaxe.org/" title="The Blog and podcast on Web Accessibility">WebAxe</a></li>

	</ul>
</li>
<li id="meta-2" class="widget-container widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">

<h2 class="screen-reader-text">More informations</h2>

			<div id="site-info">
				<a href="/" title="Opening Accessibility" rel="home">
					Opening Accessibility				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
				<a href="#wrapper" class="skip-bottom screen-reader-text">Skip to top</a>				<a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress.</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=4.9.8'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>
<script async="async" type='text/javascript' src='/wp-content/plugins/akismet/_inc/form.js?ver=4.0.8'></script>
</body>
</html>
